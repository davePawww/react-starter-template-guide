<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CI/CD Pipeline - React Starter Template</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="logo">‚ö° React Starter Template</div>
        <nav>
            <a href="index.html">Home</a>
            <a href="installation.html">Installation</a>
            <a href="tools.html">Tools</a>
            <a href="cicd.html">CI/CD</a>
            <a href="deployment.html">Deployment</a>
        </nav>
    </header>

    <main>
        <aside class="sidebar">
            <h3>On This Page</h3>
            <ul>
                <li><a href="#what-is-cicd">What is CI/CD?</a></li>
                <li><a href="#github-actions">GitHub Actions</a></li>
                <li><a href="#workflow-file">Workflow File</a></li>
                <li><a href="#run-workflow">Run Workflow</a></li>
            </ul>
        </aside>

        <article class="content">
            <h1>CI/CD Pipeline</h1>
            <p class="lead">Set up automated testing and continuous integration with GitHub Actions.</p>

            <section id="what-is-cicd">
                <h2>What is CI/CD?</h2>
                <div class="why-box">
                    <strong>Why CI/CD Matters</strong>
                    <p><strong>CI (Continuous Integration)</strong> automatically runs tests and checks every time you push code. <strong>CD (Continuous Deployment)</strong> automatically deploys your app when tests pass. This catches bugs early and ensures your app is always deployable.</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>üîÑ Continuous Integration</h3>
                        <p>Automated tests run on every push. No more broken builds slipping through.</p>
                    </div>
                    <div class="card">
                        <h3>üöÄ Continuous Deployment</h3>
                        <p>Automatic deployments to your hosting platform when tests pass.</p>
                    </div>
                    <div class="card">
                        <h3>üõ°Ô∏è Quality Gates</h3>
                        <p>Code must pass linting, type checking, and tests before merging.</p>
                    </div>
                </div>
            </section>

            <section id="github-actions">
                <h2>GitHub Actions</h2>
                <div class="why-box">
                    <strong>Why GitHub Actions?</strong>
                    <p>GitHub Actions is built into GitHub, so you don't need any external services. It runs automated workflows on every push and pull request, making it perfect for CI/CD pipelines.</p>
                </div>

                <h3>Create Workflow Directory</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>bash</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code># Create .github/workflows directory
mkdir -p .github/workflows</code></pre>
                </div>
            </section>

            <section id="workflow-file">
                <h2>Create CI Workflow</h2>
                <p>This workflow runs on every push and pull request to ensure code quality.</p>

                <div class="code-block">
                    <div class="code-header">
                        <span>.github/workflows/ci.yml</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>name: CI

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  lint-and-test:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Run ESLint
        run: npm run lint

      - name: Run TypeScript type check
        run: npx tsc --noEmit

      - name: Build project
        run: npm run build

      - name: Upload build artifacts
        uses: actions/upload-artifact@v4
        with:
          name: build
          path: dist</code></pre>
                </div>

                <h3>What This Workflow Does</h3>
                <ol class="steps-list">
                    <li><strong>Triggers</strong> - Runs on push to main and on all pull requests</li>
                    <li><strong>Checkout</strong> - Downloads your code</li>
                    <li><strong>Setup Node</strong> - Installs Node.js 20 with npm caching</li>
                    <li><strong>Install</strong> - Runs npm ci for reproducible installs</li>
                    <li><strong>Lint</strong> - Runs ESLint to check code quality</li>
                    <li><strong>Type Check</strong> - Runs TypeScript compiler to check types</li>
                    <li><strong>Build</strong> - Creates production build</li>
                    <li><strong>Upload</strong> - Saves build artifacts for potential deployment</li>
                </ol>
            </section>

            <section id="run-workflow">
                <h2>Running the Workflow</h2>

                <h3>Step 1: Commit and Push</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>bash</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code># Initialize git if not already done
git init
git add .
git commit -m "Add CI/CD pipeline"

# Create repository on GitHub and push
gh repo create my-react-app --public --source=. --push
# Or push to existing repo
git push origin main</code></pre>
                </div>

                <h3>Step 2: View Workflow Runs</h3>
                <ol class="steps-list">
                    <li>Go to your repository on GitHub</li>
                    <li>Click on the <strong>Actions</strong> tab</li>
                    <li>You should see your CI workflow running</li>
                    <li>Click on the workflow to see progress</li>
                </ol>

                <div class="info-box">
                    <strong>üí° Pro Tips</strong>
                    <ul>
                        <li>Add <code>[skip ci]</code> to your commit message to skip CI for that push</li>
                        <li>Branch protection rules can require CI to pass before merging</li>
                        <li>You can add matrix strategies to test on multiple Node versions</li>
                    </ul>
                </div>
            </section>

            <section id="branch-protection">
                <h2>Add Branch Protection</h2>
                <p>Require CI to pass before merging pull requests.</p>

                <ol class="steps-list">
                    <li>Go to <strong>Settings</strong> ‚Üí <strong>Branches</strong></li>
                    <li>Click <strong>Add branch protection rule</strong></li>
                    <li>Branch name pattern: <code>main</code></li>
                    <li>Check <strong>Require status checks to pass before merging</strong></li>
                    <li>Select the <strong>lint-and-test</strong> job</li>
                    <li>Click <strong>Save</strong></li>
                </ol>
            </section>

            <section>
                <div class="success-box">
                    <strong>‚úÖ CI Pipeline Complete!</strong>
                    <p>Your code will now be automatically tested on every push. Continue to set up automatic deployment to Vercel or GitHub Pages.</p>
                </div>

                <div class="nav-buttons">
                    <a href="deployment.html" class="btn btn-primary">Next: Deployment ‚Üí</a>
                </div>
            </section>
        </article>
    </main>

    <footer>
        <p>Built for developers who want a production-ready React setup</p>
    </footer>

    <script>
        function copyCode(button) {
            const code = button.closest('.code-block').querySelector('code').textContent;
            navigator.clipboard.writeText(code);
            button.textContent = 'Copied!';
            setTimeout(() => button.textContent = 'Copy', 2000);
        }
    </script>
</body>
</html>
