<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deployment - React Starter Template</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="logo">‚ö° React Starter Template</div>
        <nav>
            <a href="index.html">Home</a>
            <a href="installation.html">Installation</a>
            <a href="tools.html">Tools</a>
            <a href="cicd.html">CI/CD</a>
            <a href="deployment.html">Deployment</a>
        </nav>
    </header>

    <main>
        <aside class="sidebar">
            <h3>On This Page</h3>
            <ul>
                <li><a href="#choose">Choose Platform</a></li>
                <li><a href="#vercel">Deploy to Vercel</a></li>
                <li><a href="#vercel-cd">Vercel + CI/CD</a></li>
                <li><a href="#github-pages">GitHub Pages</a></li>
                <li><a href="#complete-cd">Complete CD Pipeline</a></li>
            </ul>
        </aside>

        <article class="content">
            <h1>Deployment</h1>
            <p class="lead">Deploy your React app to Vercel or GitHub Pages with automatic CI/CD.</p>

            <section id="choose">
                <h2>Choose Your Platform</h2>
                <div class="grid">
                    <div class="card">
                        <h3>üöÄ Vercel</h3>
                        <p><strong>Recommended</strong></p>
                        <p>Zero-config deployments, global CDN, automatic SSL, and instant rollbacks. Made by the creators of Vite.</p>
                    </div>
                    <div class="card">
                        <h3>üìÑ GitHub Pages</h3>
                        <p><strong>Free & Simple</strong></p>
                        <p>Free hosting directly from your repository. No additional accounts needed for public repos.</p>
                    </div>
                </div>
            </section>

            <section id="vercel">
                <h2>Option 1: Deploy to Vercel</h2>
                <div class="why-box">
                    <strong>Why Vercel?</strong>
                    <p>Vercel offers the best developer experience for deploying Vite apps. It automatically detects your framework, optimizes builds, and provides global CDN with automatic SSL. Plus, it's made by the same team that created Vite!</p>
                </div>

                <h3>Method A: CLI Deployment</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>bash</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code># Install Vercel CLI
pnpm add -g vercel

# Deploy
vercel</code></pre>
                </div>

                <p>Follow the prompts - Vercel will automatically detect Vite and configure build settings.</p>

                <h3>Method B: Git Integration</h3>
                <ol class="steps-list">
                    <li>Push your code to GitHub</li>
                    <li>Go to <a href="https://vercel.com" target="_blank">vercel.com</a> and sign up</li>
                    <li>Click <strong>Add New...</strong> ‚Üí <strong>Project</strong></li>
                    <li>Import your GitHub repository</li>
                    <li>Vercel automatically detects Vite - just click <strong>Deploy</strong></li>
                </ol>

                <div class="info-box">
                    <strong>‚úÖ Vercel Settings (Auto-detected)</strong>
                    <ul>
                        <li>Framework Preset: <strong>Vite</strong></li>
                        <li>Build Command: <strong>npm run build</strong></li>
                        <li>Output Directory: <strong>dist</strong></li>
                    </ul>
                </div>
            </section>

            <section id="vercel-cd">
                <h2>Automatic Deployment with Vercel + GitHub Actions</h2>
                <p>Deploy automatically every time you push to main.</p>

                <h3>Step 1: Get Vercel Credentials</h3>
                <ol class="steps-list">
                    <li><strong>VERCEL_TOKEN:</strong> Create at <a href="https://vercel.com/account/tokens" target="_blank">vercel.com/account/tokens</a></li>
                    <li><strong>VERCEL_ORG_ID:</strong> Run <code>pnpm exec vercel whoami --json</code></li>
                    <li><strong>VERCEL_PROJECT_ID:</strong> Get from Vercel project settings</li>
                </ol>

                <h3>Step 2: Add Secrets to GitHub</h3>
                <ol class="steps-list">
                    <li>Go to your repo ‚Üí <strong>Settings</strong> ‚Üí <strong>Secrets and variables</strong> ‚Üí <strong>Actions</strong></li>
                    <li>Click <strong>New repository secret</strong></li>
                    <li>Add <code>VERCEL_TOKEN</code></li>
                    <li>Add <code>VERCEL_ORG_ID</code></li>
                    <li>Add <code>VERCEL_PROJECT_ID</code></li>
                </ol>

                <h3>Step 3: Create Deploy Workflow</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>.github/workflows/deploy.yml</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>name: Deploy to Vercel

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'pnpm'

      - name: Install dependencies
        run: pnpm install --frozen-lockfile

      - name: Run linter
        run: pnpm run lint

      - name: Build project
        run: pnpm run build

      - name: Deploy to Vercel
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: '--prod'</code></pre>
                </div>
            </section>

            <section id="github-pages">
                <h2>Option 2: Deploy to GitHub Pages</h2>
                <div class="why-box">
                    <strong>Why GitHub Pages?</strong>
                    <p>GitHub Pages is free for public repositories and requires no additional accounts. It's perfect for personal projects, portfolios, and documentation sites.</p>
                </div>

                <h3>Step 1: Update package.json</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>package.json</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>{
  "name": "my-app",
  "homepage": "https://yourusername.github.io/repo-name",
  ...
}</code></pre>
                </div>

                <h3>Step 2: Update Vite Config</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>vite.config.ts</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  base: '/repo-name/',
})</code></pre>
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Important</strong>
                    <p>Replace <code>repo-name</code> with your actual repository name (without the slashes when using as base).</p>
                </div>
            </section>

            <section id="complete-cd">
                <h2>Complete CD Pipeline for GitHub Pages</h2>
                <p>Automatically build and deploy on every push.</p>

                <div class="code-block">
                    <div class="code-header">
                        <span>.github/workflows/pages.yml</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>name: Deploy to GitHub Pages

on:
  push:
    branches: [main]
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: pages
  cancel-in-progress: false

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'pnpm'

      - name: Install dependencies
        run: pnpm install --frozen-lockfile

      - name: Lint
        run: pnpm run lint

      - name: Build
        run: pnpm run build

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./dist

  deploy:
    needs: build
    runs-on: ubuntu-latest
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4</code></pre>
                </div>

                <h3>Step 3: Configure GitHub Pages</h3>
                <ol class="steps-list">
                    <li>Go to your repo ‚Üí <strong>Settings</strong> ‚Üí <strong>Pages</strong></li>
                    <li>Under <strong>Source</strong>, select <strong>GitHub Actions</strong></li>
                    <li>Save the settings</li>
                </ol>

                <div class="info-box">
                    <strong>üí° After Deployment</strong>
                    <p>Your site will be available at <code>https://yourusername.github.io/repo-name/</code></p>
                </div>
            </section>

            <section>
                <div class="success-box">
                    <strong>üéâ You're All Set!</strong>
                    <p>Your React project is now fully configured with:</p>
                    <ul>
                        <li>‚úÖ Vite + React + TypeScript</li>
                        <li>‚úÖ Tailwind CSS</li>
                        <li>‚úÖ ShadCN UI</li>
                        <li>‚úÖ Prettier + ESLint</li>
                        <li>‚úÖ Husky git hooks</li>
                        <li>‚úÖ Storybook</li>
                        <li>‚úÖ GitHub Actions CI/CD</li>
                        <li>‚úÖ Automatic deployment</li>
                    </ul>
                </div>

                <div class="nav-buttons">
                    <a href="index.html" class="btn btn-primary">‚Üê Back to Home</a>
                </div>
            </section>
        </article>
    </main>

    <footer>
        <p>Built for developers who want a production-ready React setup</p>
    </footer>

    <script>
        function copyCode(button) {
            const code = button.closest('.code-block').querySelector('code').textContent;
            navigator.clipboard.writeText(code);
            button.textContent = 'Copied!';
            setTimeout(() => button.textContent = 'Copy', 2000);
        }
    </script>
</body>
</html>
