<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tools Configuration - React Starter Template</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="logo">‚ö° React Starter Template</div>
        <nav>
            <a href="index.html">Home</a>
            <a href="installation.html">Installation</a>
            <a href="tools.html">Tools</a>
            <a href="cicd.html">CI/CD</a>
            <a href="deployment.html">Deployment</a>
        </nav>
    </header>

    <main>
        <aside class="sidebar">
            <h3>On This Page</h3>
            <ul>
                <li><a href="#prettier">1. Prettier</a></li>
                <li><a href="#eslint">2. ESLint</a></li>
                <li><a href="#husky">3. Husky</a></li>
                <li><a href="#storybook">4. Storybook</a></li>
                <li><a href="#testing">5. Vitest</a></li>
                <li><a href="#playwright">6. Playwright</a></li>
            </ul>
        </aside>

        <article class="content">
            <h1>Tools Configuration</h1>
            <p class="lead">Set up Prettier, ESLint, Husky, and Storybook to enhance your development workflow.</p>

            <section id="prettier">
                <h2>1. Prettier - Code Formatter</h2>
                <div class="why-box">
                    <strong>Why Prettier?</strong>
                    <p>Prettier enforces consistent code formatting across your entire team. It removes debates about tabs vs spaces, semicolons, and line lengths. Run it once and your code is formatted.</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>bash</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code># Install Prettier and plugins
pnpm add -D prettier prettier-plugin-tailwindcss</code></pre>
                </div>

                <h3>Create .prettierrc</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>.prettierrc</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>{
  "semi": false,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 100,
  "plugins": ["prettier-plugin-tailwindcss"]
}</code></pre>
                </div>

                <h3>Create .prettierignore</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>.prettierignore</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>node_modules
dist
build
.cache
.env
.env.local
coverage
.vscode
.idea</code></pre>
                </div>

                <h3>Add scripts to package.json</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>package.json</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>"scripts": {
  "dev": "vite",
  "build": "tsc && vite build",
  "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
  "preview": "vite preview",
  "format": "prettier --write ."
}</code></pre>
                </div>
            </section>

            <section id="eslint">
                <h2>2. ESLint - Code Linter</h2>
                <div class="why-box">
                    <strong>Why ESLint?</strong>
                    <p>ESLint statically analyzes your code to find problems like unused variables, missing types, and potential bugs. It enforces coding best practices and catches errors before they reach production.</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>bash</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code># Install ESLint and plugins
pnpm add -D @eslint/js typescript-eslint eslint-plugin-react eslint-plugin-react-hooks eslint-plugin-react-refresh</code></pre>
                </div>

                <h3>Create eslint.config.js</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>eslint.config.js</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>import js from '@eslint/js'
import tseslint from 'typescript-eslint'
import react from 'eslint-plugin-react'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'

export default tseslint.config(
  { ignores: ['dist'] },
  {
    extends: [js.configs.recommended, ...tseslint.configs.recommended],
    files: ['**/*.{ts,tsx}'],
    languageOptions: {
      ecmaVersion: 2020,
    },
    plugins: {
      react,
      'react-hooks': reactHooks,
      'react-refresh': reactRefresh,
    },
    rules: {
      ...react.configs.recommended.rules,
      ...reactHooks.configs.recommended.rules,
      'react-refresh/only-export-components': [
        'warn',
        { allowConstantExport: true },
      ],
      '@typescript-eslint/no-unused-vars': ['warn', { argsIgnorePattern: '^_' }],
      '@typescript-eslint/no-explicit-any': 'warn',
      'react-hooks/rules-of-hooks': 'error',
      'react-hooks/exhaustive-deps': 'warn',
    },
  },
)</code></pre>
                </div>

                <div class="info-box">
                    <strong>üí° Note</strong>
                    <p>Make sure your <code>package.json</code> has <code>"type": "module"</code> or rename to <code>eslint.config.mjs</code>.</p>
                </div>
            </section>

            <section id="husky">
                <h2>3. Husky - Git Hooks</h2>
                <div class="why-box">
                    <strong>Why Husky?</strong>
                    <p>Husky enables you to run scripts before commits or pushes. This ensures no broken code or formatting issues ever enter your repository. It's your first line of defense against bugs.</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>bash</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code># Install Husky
pnpm add -D husky

# Initialize Husky
pnpm exec husky init</code></pre>
                </div>

                <h3>Update .husky/pre-commit</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>.husky/pre-commit</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

pnpm run lint
pnpm run format
pnpm run test:run</code></code></pre>
                </div>

                <h3>Update package.json</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>package.json</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>"scripts": {
  "prepare": "husky"
}</code></pre>
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Important</strong>
                    <p>Make the pre-commit script executable: <code>chmod +x .husky/pre-commit</code></p>
                </div>

                <div class="success-box">
                    <strong>‚úÖ How it works</strong>
                    <p>Now every time you run <code>git commit</code>, Husky will automatically run ESLint, Prettier, and Vitest. If any fail, the commit is blocked until issues are fixed.</p>
                </div>
            </section>

            <section id="storybook">
                <h2>4. Storybook - Component Explorer</h2>
                <div class="why-box">
                    <strong>Why Storybook?</strong>
                    <p>Storybook lets you build and test UI components in isolation. It's perfect for developing components before integrating them into your app, creating documentation, and doing visual regression testing.</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>bash</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code># Initialize Storybook
pnpm dlx storybook@latest init</code></pre>
                </div>

                <p>Storybook will automatically detect your Vite + React project and configure itself.</p>

                <h3>Available Storybook Commands</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>bash</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code># Start Storybook (development)
pnpm storybook

# Build Storybook (static)
pnpm build-storybook

# Build and run Storybook locally
pnpm storybook-build-and-start</code></pre>
                </div>

                <h3>Create a Component Story</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>src/stories/Button.stories.tsx</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>import type { Meta, StoryObj } from '@storybook/react'
import { Button } from '../components/ui/button'

const meta = {
  title: 'UI/Button',
  component: Button,
  parameters: {
    layout: 'centered',
  },
  tags: ['autodocs'],
} satisfies Meta<typeof Button>

export default meta
type Story = StoryObj<typeof meta>

export const Primary: Story = {
  args: {
    variant: 'default',
    children: 'Button',
  },
}

export const Secondary: Story = {
  args: {
    variant: 'secondary',
    children: 'Button',
  },
}

export const Outline: Story = {
  args: {
    variant: 'outline',
    children: 'Button',
  },
}</code></pre>
                </div>
            </section>

            <section id="testing">
                <h2>5. Vitest + React Testing Library (Unit Tests)</h2>
                <div class="why-box">
                    <strong>Why Unit Testing?</strong>
                    <p>Unit tests verify that individual functions and components work correctly. Vitest is blazing fast and shares config with Vite. React Testing Library encourages testing behavior over implementation.</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>bash</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code># Install Vitest and React Testing Library
pnpm add -D vitest @testing-library/react @testing-library/jest-dom jsdom</code></pre>
                </div>

                <h3>Update vite.config.ts</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>vite.config.ts</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import path from 'path'

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
  test: {
    globals: true,
    environment: 'jsdom',
    setupFiles: './src/test/setup.ts',
    include: ['src/**/*.{test,spec}.{js,ts,jsx,tsx}'],
  },
})</code></pre>
                </div>

                <h3>Create test setup file</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>src/test/setup.ts</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>import '@testing-library/jest-dom'</code></pre>
                </div>

                <h3>Add scripts to package.json</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>package.json</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>"scripts": {
  "test": "vitest",
  "test:ui": "vitest --ui",
  "test:coverage": "vitest --coverage",
  "test:run": "vitest run"
}</code></pre>
                </div>

                <h3>Create a test</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>src/components/ui/Button.test.tsx</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>import { render, screen } from '@testing-library/react'
import { Button } from './button'

describe('Button', () => {
  it('renders correctly', () => {
    render(&lt;Button&gt;Click me&lt;/Button&gt;)
    expect(screen.getByRole('button')).toBeInTheDocument()
  })

  it('shows correct text', () => {
    render(&lt;Button&gt;Click me&lt;/Button&gt;)
    expect(screen.getByText('Click me')).toBeInTheDocument()
  })
})</code></pre>
                </div>
            </section>

            <section id="playwright">
                <h2>6. Playwright (E2E Tests)</h2>
                <div class="why-box">
                    <strong>Why E2E Testing?</strong>
                    <p>End-to-end tests simulate real user behavior in an actual browser. They catch issues that unit tests miss - like real browser rendering, network issues, and user flows.</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>bash</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code># Install Playwright
pnpm add -D @playwright/test

# Install browsers
pnpm exec playwright install chromium</code></pre>
                </div>

                <h3>Create playwright.config.ts</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>playwright.config.ts</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>import { defineConfig, devices } from '@playwright/test'

export default defineConfig({
  testDir: './e2e',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: 'html',
  use: {
    baseURL: 'http://localhost:5173',
    trace: 'on-first-retry',
  },
  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] },
    },
  ],
  webServer: {
    command: 'pnpm dev',
    url: 'http://localhost:5173',
    reuseExistingServer: !process.env.CI,
  },
})</code></pre>
                </div>

                <h3>Create E2E test</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>e2e/example.spec.ts</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>import { test, expect } from '@playwright/test'

test('homepage loads correctly', async ({ page }) => {
  await page.goto('/')
  await expect(page).toHaveTitle(/Vite/)
})

test('button click works', async ({ page }) => {
  await page.goto('/')
  const button = page.getByRole('button', { name: /click/i })
  if (await button.isVisible()) {
    await button.click()
  }
})</code></pre>
                </div>

                <h3>Add scripts to package.json</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>package.json</span>
                        <button onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><code>"scripts": {
  "test:e2e": "playwright test",
  "test:e2e:ui": "playwright test --ui",
  "test:ci": "pnpm run test:run && pnpm run test:e2e"
}</code></pre>
                </div>
            </section>

            <section>
                <div class="success-box">
                    <strong>‚úÖ All Tools Configured!</strong>
                    <p>Your project now has professional-grade tooling. Continue to set up CI/CD with GitHub Actions.</p>
                </div>

                <div class="nav-buttons">
                    <a href="cicd.html" class="btn btn-primary">Next: Set Up CI/CD ‚Üí</a>
                </div>
            </section>
        </article>
    </main>

    <footer>
        <p>Built for developers who want a production-ready React setup</p>
    </footer>

    <script>
        function copyCode(button) {
            const code = button.closest('.code-block').querySelector('code').textContent;
            navigator.clipboard.writeText(code);
            button.textContent = 'Copied!';
            setTimeout(() => button.textContent = 'Copy', 2000);
        }
    </script>
</body>
</html>
